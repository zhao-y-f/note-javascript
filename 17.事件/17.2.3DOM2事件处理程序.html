<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <button id="btn"></button>
    <script>
        // DOM2 Events 为事件处理程序的赋值和移除定义了两个方法：addEventListener() 和 removeEventListener()
        //它们接收 3 个参数：事件名、事件处理函数和一个布尔值， true 表示在捕获阶段调用事件处理程序， 
        //false （默认值）表示在冒泡阶段调用事件处理程序。

        //使用 DOM2方式的主要优势是可以为同一个事件添加多个事件处理程序
        let btn = document.getElementById("btn");
        btn.addEventListener("click", () => {
            console.log(this.id);
        }, false);
        btn.addEventListener("click", () => {
            console.log("Hello world!");
        }, false);
        //多个事件处理程序以添加顺序来触发

        //通过 addEventListener() 添加的事件处理程序只能使用 removeEventListener() 并传入与添
        //加时同样的参数来移除。这意味着使用 addEventListener() 添加的匿名函数无法移除
        // btn.removeEventListener("click", function () { //  没有效果！
        //     console.log(this.id);
        // }, false);
        let handler = function () {
            console.log(this.id);
        };
        btn.addEventListener("click", handler, false);
        btn.removeEventListener("click", handler, false); //  有效果

        //大多数情况下，事件处理程序会被添加到事件流的冒泡阶段，主要原因是跨浏览器兼容性好。把事
        //件处理程序注册到捕获阶段通常用于在事件到达其指定目标之前拦截事件。如果不需要拦截，则不要使
        //用事件捕获。
    </script>
</body>

</html>